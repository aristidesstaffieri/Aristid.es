{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;uBAEoB,SAAS;;;;qBACX,OAAO;;;;oBACR,MAAM;;;;2BAEJ,cAAc;;;;sBACd,UAAU;;;;kBAEd,IAAI;;;;AATnB,OAAO,CAAC,gBAAgB,CAAC,CAAA;;AAUzB,IAAM,SAAS,GAAG,gBAAG,YAAY,CAAC,iBAAiB,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAA;;AAE1E,IAAM,GAAG,GAAG,2BAAS,CAAA;;AAErB,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAA;AAC7B,GAAG,CAAC,GAAG,CAAC,8BAAc,CAAC,kBAAK,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC,CAAA;AACtD,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,kBAAK,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,CAAA;;;AAG3C,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,UAAS,GAAG,EAAE,GAAG,EAAC;AAC9B,0BAAO,GAAG,sBAAS,GAAG,CAAC,IAAI,EAAE,UAAS,OAAO,EAAE;AAC9C,MAAM,SAAS,GAAG,mBAAM,cAAc,CAAC,mBAAM,aAAa,CAAC,OAAO,CAAC,CAAC,CAAA;AACpE,KAAG,CAAC,MAAM,CAAC,WAAW,EAAE;AACvB,cAAW,EAAE,SAAS;GACtB,CAAC,CAAA;EACF,CAAC,CAAA;CACF,CAAC,CAAA;;AAEF,GAAG,CAAC,GAAG,CAAC,eAAe,EAAE,UAAS,GAAG,EAAE,GAAG,EAAC;AAC1C,KAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAA;;AAEvB,0BAAO,GAAG,qCAAsB,GAAG,EAAI,UAAS,OAAO,EAAE;AACxD,MAAM,SAAS,GAAG,mBAAM,cAAc,CAAC,mBAAM,aAAa,CAAC,OAAO,CAAC,CAAC,CAAA;AACpE,KAAG,CAAC,MAAM,CAAC,WAAW,EAAE;AACvB,cAAW,EAAE,SAAS;GACtB,CAAC,CAAA;EACF,CAAC,CAAA;CACF,CAAC,CAAA;;;AAGF,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,UAAS,GAAG,EAAE,GAAG,EAAC;AACxC,IAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;CACnB,CAAC,CAAA;;AAGF,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY;AACzC,KAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,OAAO,CAAA;AACrC,KAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAA;;AAElC,QAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;CAC1D,CAAC,CAAA","file":"index.js","sourcesContent":["require('babel/register')\n\nimport express from 'express'\nimport React from 'react'\nimport path from 'path'\n\nimport Router from 'react-router'\nimport routes from './routes'\n\nimport fs from 'fs'\nconst clientApp = fs.readFileSync('dist/browser.js', { encoding: 'utf8' })\n\nconst app = express()\n\napp.set('view engine', 'ejs')\napp.use(express.static(path.join(__dirname, '/dist')))\napp.set('views', path.join(__dirname, '/'))\n\n// ROUTES\napp.get('/', function(req, res){\n\tRouter.run(routes, req.path, function(Handler) {\n\t\tconst reactHtml = React.renderToString(React.createElement(Handler))\n\t\tres.render('index.ejs', {\n\t\t\treactOutput: reactHtml\n\t\t})\n\t})\n})\n\napp.get('/articles/:id', function(req, res){\n\tlet aid = req.params.id\n\n\tRouter.run(routes, `/articles/${aid}`, function(Handler) {\n\t\tconst reactHtml = React.renderToString(React.createElement(Handler))\n\t\tres.render('index.ejs', {\n\t\t\treactOutput: reactHtml\n\t\t})\n\t})\n})\n\n// CLIENT APP ROUTE\napp.get('/browser.js', function(req, res){\n\tres.send(clientApp)\n})\n\n\nconst server = app.listen(80, function () {\n\tconst host = server.address().address\n\tconst port = server.address().port\n\n\tconsole.log('ðŸŒŽ  Blog is up at  http://%s:%s', host, port)\n})\n\n"],"sourceRoot":"/source/"}